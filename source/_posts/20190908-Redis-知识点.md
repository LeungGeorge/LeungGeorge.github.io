---
uuid: 8c1daba0-d242-11e9-88f8-4f4e6520ed8f
title: Redis 知识点
tags:
  - writting
categories:
  - essay
  - redis
comments: false
date: 2019-09-08 22:11:27
description:
---

# Redis 知识点


- Redis 是什么？简述它的优缺点？
- Redis 和 Memcache 的区别？
- Redis 有哪些数据结构？
- Redis 有序集合的实现？
- Redis 有哪几种数据淘汰策略？
- Redis 键过期时间和永久有效怎么设置？
- Redis 过期键删除策略？内存淘汰机制？
- Redis 适合哪些场景？
- Redis 如何实现延时队列？
- Redis 持久化机制？底层如何实现的？有什么优缺点？
- Redis 缓存雪崩、缓存穿透、缓存预热、缓存更新、缓存降级等问题？
- Redis 实现分布时锁？



<!--more-->

## Redis 和 Memcache 的区别？

1)、存储方式 Memcache 把数据全部存在内存之中，断电后会挂掉，数据不能超过内存大小。 Redis有部份存在硬盘上，redis可以持久化其数据  
2)、数据支持类型 memcached所有的值均是简单的字符串，redis作为其替代者，支持更为丰富的数据类型 ，提供list，set，zset，hash等数据结构的存储  
3)、使用底层模型不同 它们之间底层实现方式 以及与客户端之间通信的应用协议不一样。 Redis直接自己构建了VM 机制 ，因为一般的系统调用系统函数的话，会浪费一定的时间去移动和请求。  
4). value 值大小不同：Redis 最大可以达到 1gb；memcache 只有 1mb。  
5）redis的速度比memcached快很多  
6）Redis支持数据的备份，即master-slave模式的数据备份。  

## Redis 持久化机制？底层如何实现的？有什么优缺点？

<!-- TODO：底层如何实现的？有什么优缺点？ -->

Redis是一个支持持久化的内存数据库，通过持久化机制把内存中的数据同步到硬盘文件来保证数据持久化。当Redis重启后通过把硬盘文件重新加载到内存，就能达到恢复数据的目的。

实现：单独创建fork()一个子进程，将当前父进程的数据库数据复制到子进程的内存中，然后由子进程写入到临时文件中，持久化的过程结束了，再用这个临时文件替换上次的快照文件，然后子进程退出，内存释放。

RDB 持久化：SAVE、BGSAVE 两个命令可以创建 RDB 文件。 保存 Redis 的所有数据库的所有键值对。 
> 服务器状态：  
> SAVE 命令执行时，Redis 服务器会被阻塞（由服务器进程执行保存工作）。
> BGSAVE 的保存工作由子进程执行的，不会阻塞。可以通过 save 选项设置保存条件，自动间隔性保存。

AOF 持久化：保存 Redis 数据库所执行的写命令来记录数据库状态。


两种方式同时开启时，数据恢复会优先使用 AOF 文件。

![20190908225216.png](https://raw.githubusercontent.com/LeungGeorge/assets/master/images/20190908225216.png)







> [几率大的Redis面试题（含答案）](https://blog.csdn.net/Butterfly_resting/article/details/89668661)  
> [Redis面试题总结（1）](https://blog.csdn.net/qq_39783244/article/details/79403613)  
> [Redis常见面试题](https://www.cnblogs.com/jasontec/p/9699242.html)  
> [Java面试----2018最全Redis面试题整理](https://blog.csdn.net/wchengsheng/article/details/79925654)  
> [Redis使用的相关问题](https://www.cnblogs.com/yxhblogs/p/9063913.html)  

---
<link rel="stylesheet" href="http://yandex.st/highlightjs/6.1/styles/default.min.css">
<script src="http://yandex.st/highlightjs/6.1/highlight.min.js"></script>
<script>
hljs.tabReplace = ' ';
hljs.initHighlightingOnLoad();
</script>

> 来源：[https://leunggeorge.github.io/](https://leunggeorge.github.io/)  
